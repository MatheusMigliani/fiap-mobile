{
  "info": {
    "name": "FIAP Tech Challenge - Blog Educacional",
    "description": "Collection para testar a API do Tech Challenge Fase 4.\n\n**Como usar:**\n1. Fa√ßa login como Professor ou Aluno ‚Äî o token √© salvo automaticamente na vari√°vel `{{token}}`\n2. Todas as demais requisi√ß√µes j√° usam `{{token}}` no header Authorization",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000/api",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    },
    {
      "key": "postId",
      "value": "",
      "type": "string"
    },
    {
      "key": "professorId",
      "value": "",
      "type": "string"
    },
    {
      "key": "studentId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üîê Auth",
      "item": [
        {
          "name": "Login como Professor",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var json = pm.response.json();",
                  "if (json.data && json.data.token) {",
                  "    pm.collectionVariables.set('token', json.data.token);",
                  "    console.log('‚úÖ Token salvo:', json.data.token.substring(0, 30) + '...');",
                  "} else {",
                  "    console.log('‚ùå Token n√£o encontrado na resposta');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"professor@fiap.com.br\",\n  \"password\": \"fiap2024\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/auth/login", "host": ["{{baseUrl}}"], "path": ["auth", "login"] },
            "description": "Login como professor. O token JWT √© salvo automaticamente na vari√°vel `{{token}}`."
          }
        },
        {
          "name": "Login como Aluno",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var json = pm.response.json();",
                  "if (json.data && json.data.token) {",
                  "    pm.collectionVariables.set('token', json.data.token);",
                  "    console.log('‚úÖ Token salvo (aluno):', json.data.token.substring(0, 30) + '...');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"aluno@fiap.com.br\",\n  \"password\": \"fiap2024\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/auth/login", "host": ["{{baseUrl}}"], "path": ["auth", "login"] },
            "description": "Login como aluno. O token JWT √© salvo automaticamente na vari√°vel `{{token}}`."
          }
        }
      ]
    },
    {
      "name": "üìù Posts",
      "item": [
        {
          "name": "Listar Posts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/posts?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["posts"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "10" }
              ]
            },
            "description": "Lista paginada de posts. N√£o requer autentica√ß√£o."
          }
        },
        {
          "name": "Buscar Posts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/posts/search?q=react",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "search"],
              "query": [{ "key": "q", "value": "react" }]
            },
            "description": "Busca posts pelo t√≠tulo ou conte√∫do."
          }
        },
        {
          "name": "Detalhe do Post",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/posts/{{postId}}",
              "host": ["{{baseUrl}}"],
              "path": ["posts", "{{postId}}"]
            },
            "description": "Retorna o post completo (com content, n√£o s√≥ excerpt). Defina `{{postId}}` com o ID de um post."
          }
        },
        {
          "name": "Criar Post",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var json = pm.response.json();",
                  "if (json.data && json.data.id) {",
                  "    pm.collectionVariables.set('postId', json.data.id);",
                  "    console.log('‚úÖ postId salvo:', json.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Introdu√ß√£o ao React Native\",\n  \"content\": \"React Native √© um framework de desenvolvimento mobile criado pelo Facebook que permite criar aplicativos nativos para iOS e Android usando JavaScript e React.\\n\\nPrincipais vantagens:\\n- C√≥digo compartilhado entre plataformas\\n- Hot Reload para desenvolvimento r√°pido\\n- Grande comunidade e ecossistema\\n- Performance pr√≥xima ao nativo\",\n  \"author\": \"Professor FIAP\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/posts", "host": ["{{baseUrl}}"], "path": ["posts"] },
            "description": "Cria um novo post. Requer token de professor. O `postId` √© salvo automaticamente."
          }
        },
        {
          "name": "Criar Post - Hooks React",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Dominando os Hooks do React\",\n  \"content\": \"Os Hooks revolucionaram a forma de escrever componentes React. Vamos explorar os principais:\\n\\n1. useState - Gerenciamento de estado local\\n2. useEffect - Efeitos colaterais e ciclo de vida\\n3. useCallback - Memoizar fun√ß√µes\\n4. useMemo - Memoizar valores computados\\n5. useRef - Refer√™ncias mut√°veis\\n\\nCada Hook tem seu caso de uso espec√≠fico.\",\n  \"author\": \"Professor FIAP\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/posts", "host": ["{{baseUrl}}"], "path": ["posts"] }
          }
        },
        {
          "name": "Criar Post - Expo Router",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Navega√ß√£o com Expo Router\",\n  \"content\": \"O Expo Router traz o conceito de file-based routing para React Native, similar ao Next.js.\\n\\nEstrutura de pastas:\\n- app/(tabs) - Navega√ß√£o por abas\\n- app/(auth) - Rotas de autentica√ß√£o\\n- app/[id].tsx - Rotas din√¢micas\\n\\nVantagens:\\n- Configura√ß√£o autom√°tica de deep links\\n- Type safety com TypeScript\\n- Layouts compartilhados\",\n  \"author\": \"Professor FIAP\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/posts", "host": ["{{baseUrl}}"], "path": ["posts"] }
          }
        },
        {
          "name": "Criar Post - Seguran√ßa Mobile",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Seguran√ßa em Apps Mobile\",\n  \"content\": \"Seguran√ßa √© fundamental em aplica√ß√µes mobile. Principais pr√°ticas:\\n\\n1. Armazenamento Seguro\\n- Usar SecureStore para tokens\\n- Nunca salvar senhas em texto plano\\n\\n2. Comunica√ß√£o\\n- Sempre usar HTTPS\\n- Validar certificados SSL\\n\\n3. Autentica√ß√£o\\n- Implementar JWT com expira√ß√£o\\n- Refresh tokens seguros\",\n  \"author\": \"Professor FIAP\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/posts", "host": ["{{baseUrl}}"], "path": ["posts"] }
          }
        },
        {
          "name": "Criar Post - TypeScript",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"TypeScript no React Native\",\n  \"content\": \"TypeScript adiciona tipagem est√°tica ao JavaScript, trazendo v√°rios benef√≠cios:\\n\\n- Detec√ß√£o de erros em tempo de desenvolvimento\\n- Melhor autocomplete e IntelliSense\\n- Documenta√ß√£o inline do c√≥digo\\n- Refatora√ß√£o mais segura\\n\\nO investimento em aprender TypeScript compensa rapidamente em projetos maiores.\",\n  \"author\": \"Professor FIAP\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/posts", "host": ["{{baseUrl}}"], "path": ["posts"] }
          }
        },
        {
          "name": "Criar Post - Context vs Redux",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Context API vs Redux: Quando usar cada um?\",\n  \"content\": \"A escolha entre Context API e Redux depende do seu projeto:\\n\\nContext API:\\n- Ideal para estado simples e global\\n- Autentica√ß√£o, tema, idioma\\n- Menos boilerplate\\n\\nRedux:\\n- Aplica√ß√µes com estado complexo\\n- DevTools poderosas\\n- Middleware (thunk, saga)\\n\\nPara a maioria dos projetos mobile, Context API √© suficiente. Redux brilha em apps enterprise.\",\n  \"author\": \"Professor FIAP\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/posts", "host": ["{{baseUrl}}"], "path": ["posts"] }
          }
        },
        {
          "name": "Editar Post",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Introdu√ß√£o ao React Native - Atualizado 2024\",\n  \"content\": \"React Native √© um framework de desenvolvimento mobile criado pelo Facebook (agora Meta) que permite criar aplicativos nativos para iOS e Android usando JavaScript e React.\\n\\nNovidades em 2024:\\n- New Architecture est√°vel\\n- Melhor performance com Hermes\\n- Expo SDK 54 com suporte completo\",\n  \"author\": \"Professor FIAP\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/posts/{{postId}}", "host": ["{{baseUrl}}"], "path": ["posts", "{{postId}}"] },
            "description": "Edita o post cujo ID est√° em `{{postId}}`."
          }
        },
        {
          "name": "Excluir Post",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": { "raw": "{{baseUrl}}/posts/{{postId}}", "host": ["{{baseUrl}}"], "path": ["posts", "{{postId}}"] },
            "description": "Soft delete do post cujo ID est√° em `{{postId}}`."
          }
        }
      ]
    },
    {
      "name": "üë®‚Äçüè´ Professores",
      "item": [
        {
          "name": "Listar Professores",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{baseUrl}}/professors?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["professors"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "10" }
              ]
            }
          }
        },
        {
          "name": "Buscar Professor",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{baseUrl}}/professors?search=silva",
              "host": ["{{baseUrl}}"],
              "path": ["professors"],
              "query": [{ "key": "search", "value": "silva" }]
            }
          }
        },
        {
          "name": "Criar Professor 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var json = pm.response.json();",
                  "if (json.data && json.data.id) {",
                  "    pm.collectionVariables.set('professorId', json.data.id);",
                  "    console.log('‚úÖ professorId salvo:', json.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Carlos Eduardo Silva\",\n  \"email\": \"carlos.silva@fiap.com.br\",\n  \"password\": \"prof2024\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/professors", "host": ["{{baseUrl}}"], "path": ["professors"] }
          }
        },
        {
          "name": "Criar Professor 2",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Ana Paula Santos\",\n  \"email\": \"ana.santos@fiap.com.br\",\n  \"password\": \"prof2024\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/professors", "host": ["{{baseUrl}}"], "path": ["professors"] }
          }
        },
        {
          "name": "Criar Professor 3",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Roberto Ferreira Lima\",\n  \"email\": \"roberto.lima@fiap.com.br\",\n  \"password\": \"prof2024\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/professors", "host": ["{{baseUrl}}"], "path": ["professors"] }
          }
        },
        {
          "name": "Editar Professor",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Carlos Eduardo Silva Junior\",\n  \"email\": \"carlos.silva.jr@fiap.com.br\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/professors/{{professorId}}", "host": ["{{baseUrl}}"], "path": ["professors", "{{professorId}}"] }
          }
        },
        {
          "name": "Excluir Professor",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/professors/{{professorId}}", "host": ["{{baseUrl}}"], "path": ["professors", "{{professorId}}"] }
          }
        }
      ]
    },
    {
      "name": "üéì Alunos",
      "item": [
        {
          "name": "Listar Alunos",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{baseUrl}}/students?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["students"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "10" }
              ]
            }
          }
        },
        {
          "name": "Buscar Aluno",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": {
              "raw": "{{baseUrl}}/students?search=maria",
              "host": ["{{baseUrl}}"],
              "path": ["students"],
              "query": [{ "key": "search", "value": "maria" }]
            }
          }
        },
        {
          "name": "Criar Aluno 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var json = pm.response.json();",
                  "if (json.data && json.data.id) {",
                  "    pm.collectionVariables.set('studentId', json.data.id);",
                  "    console.log('‚úÖ studentId salvo:', json.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Joao Pedro Oliveira\",\n  \"email\": \"joao.oliveira@fiap.com.br\",\n  \"password\": \"aluno2024\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/students", "host": ["{{baseUrl}}"], "path": ["students"] }
          }
        },
        {
          "name": "Criar Aluno 2",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Maria Clara Costa\",\n  \"email\": \"maria.costa@fiap.com.br\",\n  \"password\": \"aluno2024\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/students", "host": ["{{baseUrl}}"], "path": ["students"] }
          }
        },
        {
          "name": "Criar Aluno 3",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Lucas Santos Pereira\",\n  \"email\": \"lucas.pereira@fiap.com.br\",\n  \"password\": \"aluno2024\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/students", "host": ["{{baseUrl}}"], "path": ["students"] }
          }
        },
        {
          "name": "Criar Aluno 4",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Beatriz Rodrigues\",\n  \"email\": \"beatriz.rodrigues@fiap.com.br\",\n  \"password\": \"aluno2024\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/students", "host": ["{{baseUrl}}"], "path": ["students"] }
          }
        },
        {
          "name": "Criar Aluno 5",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Gabriel Martins\",\n  \"email\": \"gabriel.martins@fiap.com.br\",\n  \"password\": \"aluno2024\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/students", "host": ["{{baseUrl}}"], "path": ["students"] }
          }
        },
        {
          "name": "Editar Aluno",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Joao Pedro Oliveira Santos\",\n  \"email\": \"joao.santos@fiap.com.br\"\n}"
            },
            "url": { "raw": "{{baseUrl}}/students/{{studentId}}", "host": ["{{baseUrl}}"], "path": ["students", "{{studentId}}"] }
          }
        },
        {
          "name": "Excluir Aluno",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": { "raw": "{{baseUrl}}/students/{{studentId}}", "host": ["{{baseUrl}}"], "path": ["students", "{{studentId}}"] }
          }
        }
      ]
    },
    {
      "name": "‚öôÔ∏è Health Check",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:3000/health",
              "protocol": "http",
              "host": ["localhost"],
              "port": "3000",
              "path": ["health"]
            },
            "description": "Verifica se o backend est√° rodando."
          }
        }
      ]
    }
  ]
}
